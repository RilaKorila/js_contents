<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <title>party course</title>
        <link rel="stylesheet" href="./style_party.css" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/keen-slider@latest/keen-slider.min.css"
        />
    </head>

    <body>
        <div class="top-wrapper">
            <div class="container">
                <h1>Party Course</h1>
                <p>一緒に楽しみましょう！！</p>
                <p>Unkock Your Potential!!</p>
            </div>
        </div>

        <div class="main-container">
            <h2>♪ Slide Show ♪</h2>

            <!-- スライドショー -->
            <div class="wrapper">
                <div class="intro">
                    <img src="../../imgs/fruits.png" id="slide-show" />
                    <!-- ボタンを追加 -->
                    <!-- <a class="btn" id="start-btn">start</a> -->
                    <!-- <a class="btn" id="stop-btn">stop</a> -->
                    <!-- 分岐: 1つのボタンで2つの役割のボタン -->
                    <a class="btn animoButtonOverlay" id="start-stop-btn"
                        >start</a
                    >
                </div>
            </div>

            <h2>♪ keen-slider ♪</h2>
            <div id="my-keen-slider" class="keen-slider">
                <div class="keen-slider__slide">
                    <img src="./imgs/party.jpg" alt="party" />
                </div>
                <div class="keen-slider__slide">
                    <img src="./imgs/party2.jpg" alt="party" />
                </div>
            </div>

            <h2>♪ Recommend ♪</h2>
            <div class="recommend">
                <p>ボタンを押したらおすすめの音楽が出てくるよ！</p>
                <a class="btn animoButtonOverlay" id="recommend_music"
                    >Check!!</a
                >
                <div id="recommend_contents">
                    <p>おすすめは...</p>
                    <h2 id="recommend_music_txt"></h2>
                    <img id="recommend_music_img" />
                </div>
            </div>

            <h2>♪ Bingo ♪</h2>
            <!-- ビンゴ -->
            <div class="bingo-wrapper">
                <div id="result" class="result centering"></div>
                <div class="wrapper-button">
                    <button id="button" class="button">START</button>
                </div>
                <ul id="number" class="number"></ul>
            </div>
        </div>

        <script
            src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"
        ></script>
        <script src="party.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/keen-slider@latest/keen-slider.js"></script>
        <script>
            var sliderElement = document.getElementById("my-keen-slider")
            var interval = 0
            function autoplay(run) {
                clearInterval(interval)
                interval = setInterval(() => {
                    if (run && slider) {
                        slider.next()
                    }
                }, 2000)
            }

            var slider = new KeenSlider(sliderElement, {
                loop: true,
                duration: 1200,
                // 最初に自動再生をONにする
                created: () => {
                    autoplay(true)
                },
            })
        </script>
        <script>
            $(function () {
                // 1~75まで、bingoの数字一覧を作成
                var max = 75
                var bingo = []
                for (var i = 1; i <= max; i++) {
                    bingo.push(i)
                }

                var timer
                var random
                // START・STOPボタンクリックのイベント
                $("#button").on("click", function () {
                    // START
                    if ($(this).text() == "START") {
                        // ボタンのテキストを"STOP"に変更
                        $(this).text("STOP")

                        // ルーレットタイマーを設定
                        timer = setInterval(function () {
                            random = Math.floor(Math.random() * bingo.length)
                            $("#result").text(bingo[random])
                        }, 10)
                        // STOP
                    } else {
                        // ボタンのテキストを"START"に変更
                        $(this).text("START")

                        // ルーレットタイマーを停止
                        clearInterval(timer)

                        // 停止時の数字を結果に反映
                        var result = bingo[random]
                        // 一覧から削除（次のルーレットに表示させないため）
                        bingo.splice(random, 1)

                        // 数字一覧に追加
                        $("#number").append($("<li>").text(result))
                        $("#number li").addClass("centering")
                    }
                })
            })
        </script>
    </body>
</html>
