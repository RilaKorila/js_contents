<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <title>slide_show</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="../style.css" />
    </head>

    <body>
        <div class="uranai">
            <h2>占い</h2>
            <a class="btn" id="uranai_btn">占う</a>
            <p id="uranai_result"></p>
        </div>

        <!-- ラッキーアイテム: 画像を表示 -->
        <div class="lucky">
            <h2>ラッキーアイテム</h2>
            <a class="btn" id="lucky_btn">占う</a>
            <img src="../imgs/onpu.png" id="lucky_img" />
        </div>
    </body>

    <script>
        function uranai() {
            var fortune_num = Math.floor(Math.random() * 4)

            var resultText
            if (fortune_num === 0) {
                resultText = "大吉"
            } else if (fortune_num === 1) {
                resultText = "中吉"
            } else if (fortune_num === 2) {
                resultText = "小吉"
            } else {
                resultText = "吉"
            }

            document.getElementById("uranai_result").textContent = resultText
        }

        const uranaiBtn = document.getElementById("uranai_btn")
        uranaiBtn.onclick = uranai

        function lucky() {
            var fortune_num = Math.floor(Math.random() * 4)
            const resultImg = document.getElementById("lucky_img")

            if (fortune_num === 0) {
                resultImg.setAttribute("src", "../imgs/pen.png")
            } else if (fortune_num === 1) {
                resultImg.setAttribute("src", "../imgs/ramen.png")
            } else if (fortune_num === 2) {
                resultImg.setAttribute("src", "../imgs/cherry.png")
            } else {
                resultImg.setAttribute("src", "../imgs/orange.png")
            }
        }
        const luckyBtn = document.getElementById("lucky_btn")
        luckyBtn.onclick = lucky
    </script>

    <!-- 星占い + Bootstrap -->
    <div class="star-container">
        <h3>今月の星占い</h3>
        <div class="radio-box">
            <!-- <script src="../js/uranai.js"></script> -->
            <!-- (TODO) for文を使う -->
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="ohitsuji"
                />おひつじ</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="oushi"
                />おうし</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="futago"
                />ふたご</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="kani"
                />かに</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="shishi"
                />しし</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="otome"
                />おとめ</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="tenbin"
                />てんびん</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="sasori"
                />さそり</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="ite"
                />いて</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="yagi"
                />やぎ</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="mizugame"
                />みずがめ</label
            >
            <label
                ><input
                    class="form-check-input"
                    type="radio"
                    name="star"
                    value="uo"
                />うお</label
            >
        </div>

        <input
            type="button"
            value="Check"
            id="checkButton"
            class="btn btn-primary"
        />

        <h3>ラッキーアイテムは....</h3>
        <p id="result"></p>
    </div>
    <script>
        let fruitRadio = document.getElementsByName("star")
        let len = fruitRadio.length
        fruitRadio[0].checked = true

        let checkButton = document.getElementById("checkButton")

        checkButton.addEventListener(
            "click",
            function (event) {
                let checkValue = ""

                for (let i = 0; i < len; i++) {
                    if (fruitRadio.item(i).checked) {
                        checkValue = fruitRadio.item(i).value
                    }
                }
                console.log("選択されているのは " + checkValue + " です")

                var res
                if (checkValue === "ohitsuji") {
                    res = "水玉のはんかち"
                } else if (checkValue === "uo") {
                    res = "ハンドクリーム"
                } else {
                    res = "おかし"
                }
                document.getElementById("result").innerText = res
            },
            false
        )
    </script>
</html>
