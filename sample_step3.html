<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <title>sample_aflter</title>
        <link rel="stylesheet" href="style_sample.css" />
    </head>

    <body>
        <h1>美味しいくだもの</h1>
        <div class="intro">
            <!-- 全員：ここをスライドショーにする -->
            <!-- idを追加 -->
            <img src="./imgs/fruits.png" id="slide-show" />
            <p>旬の果物はとってもフレッシュで美味しいのです！</p>
            <p>おすすめを紹介します！！</p>
            <!-- ボタンを追加 -->
            <a class="btn" id="start-btn">start</a>
            <a class="btn" id="stop-btn">stop</a>
            <!-- 分岐: 1つのボタンで2つの役割のボタン -->
            <!-- <a class="btn" id="start-stop-btn">start</a> -->
        </div>

        <!-- for文: 表示を増やす？ -->
        <div class="fruit">
            <h2>りんご</h2>
            <p>旬の時期：冬</p>
            <img src="./imgs/apple.png" />
        </div>

        <div class="fruit">
            <h2>オレンジ</h2>
            <p>旬の時期：冬</p>
            <img src="./imgs/orange.png" />
        </div>

        <div class="fruit">
            <h2>さくらんぼ</h2>
            <p>旬の時期：夏</p>
            <img src="./imgs/cherry.png" />
        </div>

        <script>
            // スライドショー
            const newImgList = [
                "./imgs/apple.png",
                "./imgs/orange.png",
                "./imgs/cherry.png",
            ]

            // まずは配列の考え方から
            function slide_time() {
                // numにはおなじ0から3がランダムに入る
                // 3 = (参加者が埋める:new_img_listの長さ) TRY
                let num = Math.floor(Math.random() * newImgList.length)
                //　要素を取得
                const slideImg = document.getElementById("slide-show")
                // 要素に対して、実行(今回は、属性を付与)
                slideImg.setAttribute("src", newImgList[num])
            }
            // 関数を呼び出す (TRY: ここも多分新しい感覚)
            // setInterval(slide_time, 3000)

            // ボタンで関数を実行する練習
            // ボタンの情報を取得: TRY
            const startBtn = document.getElementById("start-btn")
            const stopBtn = document.getElementById("stop-btn")
            const startStop = document.getElementById("start-stop-btn")
            let timerID

            function startSlide() {
                console.log("start")
                timerID = setInterval(slide_time, 2000)
            }
            function stopSlide() {
                console.log("stop")
                clearInterval(timerID)
            }

            // ボタンを1つにする ->> 分岐
            // TRY 分岐の練習：if文は自分で
            function startStopSlide() {
                console.log("start stop")
                let text = document.getElementById("start-stop-btn").innerText
                if (text === "start") {
                    document.getElementById("start-stop-btn").innerText = "stop"
                    timerID = setInterval(slide_time, 2000)
                } else {
                    document.getElementById("start-stop-btn").innerText =
                        "start"
                    clearInterval(timerID)
                }
            }
            // TRY onclickをボタンにつける
            startBtn.onclick = startSlide
            stopBtn.onclick = stopSlide
            // startStop.onclick = startStopSlide
            // setInterval(slide_time, 2000)
        </script>
    </body>
</html>
